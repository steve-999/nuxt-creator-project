(window.webpackJsonp=window.webpackJsonp||[]).push([[29,16,18],{255:function(t,n,e){"use strict";e.d(n,"b",(function(){return d})),e.d(n,"g",(function(){return _})),e.d(n,"d",(function(){return f})),e.d(n,"a",(function(){return h})),e.d(n,"c",(function(){return m})),e.d(n,"i",(function(){return v})),e.d(n,"h",(function(){return y})),e.d(n,"f",(function(){return k})),e.d(n,"e",(function(){return I})),e.d(n,"j",(function(){return j}));var r=e(18),o=(e(64),e(260),e(42),e(53),e(178),e(33),e(256),e(69),e(257)),c=e(55),l=e.n(c);function d(t){try{var a=t.address,n=a.property_name?"".concat(a.property_name,", "):"";return"".concat(n).concat(a.property_number," ").concat(a.road_name,", ").concat(a.city,",  ").concat(a.postcode,",  ").concat(a.country," ")}catch(t){return}}var _=function(t){try{return t.bathrooms}catch(t){return null}};function f(t){if(t&&"contracts"in t&&0!==t.contracts.length)return t.contracts.map((function(t){return t.start_date})).sort()[0]}function h(t){var n=t.split("-"),e=Object(r.a)(n,3),o=e[0],c=e[1],l=e[2];return"".concat(parseInt(l)," ").concat(["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][parseInt(c)]," ").concat(o)}function m(t){if(t&&"contracts"in t&&0!==t.contracts.length){var n=t.contracts,e=9999999,r=999999;if(n.forEach((function(t,n){t.prices.forEach((function(t){var o=parseInt(t.price_per_person_per_week);o<e&&0!==o&&(e=o,r=n)}))})),9999999!==e)return r}}var v=function(t,n){return"".concat(t).concat(function(t){return 1!==Number(t)}(n)?"s":"")};function y(t){var n,p=t,e="room_details"in p?p.room_details.length:0;return"contracts"in p&&p.contracts.length>0&&"prices"in p.contracts[0]&&(n=p.contracts[0].prices.length),Math.max(e,n)}var x=function(t,n){try{var e=t.contracts[n].prices.map((function(t){return Number(t.price_per_person_per_week)}));return Math.round(Math.ceil(52/12*e.reduce((function(t,n){return t+n}),0)))}catch(t){return}},w=function(t,n){try{var e=t.contracts[n].prices.map((function(t){return Number(t.deposit_per_person)}));return Math.round(e.reduce((function(t,n){return t+n}),0))}catch(t){return}};function C(t,n){for(var e,r=function(t){try{return t.contracts.length}catch(t){return null}}(t),o=99999,i=0;i<r;i++){var c=n(t,i);"number"==typeof(e=c)&&isFinite(e)&&c<o&&(o=c)}if(99999!==o)return o}var k=function(t){return C(t,x)},I=function(t){return C(t,w)},j=function(t,n,e){var r="".concat(o.a,"/properties/").concat(t),body={update_key:n,update_val:e};l.a.patch(r,body).then((function(t){return console.log(t.data)})).catch((function(t){return console.log(t.message)}))}},256:function(t,n,e){"use strict";var r=e(11),o=e(2),c=e(91),l=e(16),d=e(12),_=e(43),f=e(180),h=e(65),m=e(179),v=e(5),y=e(54),x=e(66).f,w=e(34).f,C=e(15).f,k=e(258).trim,I="Number",j=o.Number,E=j.prototype,N=_(y(E))==I,A=function(t){if(h(t))throw TypeError("Cannot convert a Symbol value to a number");var n,e,r,o,c,l,d,code,_=m(t,"number");if("string"==typeof _&&_.length>2)if(43===(n=(_=k(_)).charCodeAt(0))||45===n){if(88===(e=_.charCodeAt(2))||120===e)return NaN}else if(48===n){switch(_.charCodeAt(1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+_}for(l=(c=_.slice(2)).length,d=0;d<l;d++)if((code=c.charCodeAt(d))<48||code>o)return NaN;return parseInt(c,r)}return+_};if(c(I,!j(" 0o1")||!j("0b1")||j("+0x1"))){for(var M,O=function(t){var n=arguments.length<1?0:t,e=this;return e instanceof O&&(N?v((function(){E.valueOf.call(e)})):_(e)!=I)?f(new j(A(n)),e,O):A(n)},L=r?x(j):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),S=0;L.length>S;S++)d(j,M=L[S])&&!d(O,M)&&C(O,M,w(j,M));O.prototype=E,E.constructor=O,l(o,I,O)}},257:function(t,n,e){"use strict";e.d(n,"a",(function(){return r}));var r=" https://nuxt-creator-project.herokuapp.com/api"},258:function(t,n,e){var r=e(19),o=e(9),c="["+e(259)+"]",l=RegExp("^"+c+c+"*"),d=RegExp(c+c+"*$"),_=function(t){return function(n){var e=o(r(n));return 1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(d,"")),e}};t.exports={start:_(1),end:_(2),trim:_(3)}},259:function(t,n){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},260:function(t,n,e){"use strict";var r=e(4),o=e(68),c=e(21),l=e(17),d=e(9),_=e(5),f=e(261),h=e(121),m=e(262),v=e(263),y=e(67),x=e(264),w=[],C=w.sort,k=_((function(){w.sort(void 0)})),I=_((function(){w.sort(null)})),j=h("sort"),E=!_((function(){if(y)return y<70;if(!(m&&m>3)){if(v)return!0;if(x)return x<603;var code,t,n,e,r="";for(code=65;code<76;code++){switch(t=String.fromCharCode(code),code){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(e=0;e<47;e++)w.push({k:t+e,v:n})}for(w.sort((function(a,b){return b.v-a.v})),e=0;e<w.length;e++)t=w[e].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}}));r({target:"Array",proto:!0,forced:k||!I||!j||!E},{sort:function(t){void 0!==t&&o(t);var n=c(this);if(E)return void 0===t?C.call(n):C.call(n,t);var e,r,_=[],h=l(n.length);for(r=0;r<h;r++)r in n&&_.push(n[r]);for(e=(_=f(_,function(t){return function(n,e){return void 0===e?-1:void 0===n?1:void 0!==t?+t(n,e)||0:d(n)>d(e)?1:-1}}(t))).length,r=0;r<e;)n[r]=_[r++];for(;r<h;)delete n[r++];return n}})},261:function(t,n){var e=Math.floor,r=function(t,n){var l=t.length,d=e(l/2);return l<8?o(t,n):c(r(t.slice(0,d),n),r(t.slice(d),n),n)},o=function(t,n){for(var element,e,r=t.length,i=1;i<r;){for(e=i,element=t[i];e&&n(t[e-1],element)>0;)t[e]=t[--e];e!==i++&&(t[e]=element)}return t},c=function(t,n,e){for(var r=t.length,o=n.length,c=0,l=0,d=[];c<r||l<o;)c<r&&l<o?d.push(e(t[c],n[l])<=0?t[c++]:n[l++]):d.push(c<r?t[c++]:n[l++]);return d};t.exports=r},262:function(t,n,e){var r=e(52).match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},263:function(t,n,e){var r=e(52);t.exports=/MSIE|Trident/.test(r)},264:function(t,n,e){var r=e(52).match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},265:function(t,n,e){"use strict";var r=e(4),o=e(71).find,c=e(122),l="find",d=!0;l in[]&&Array(1).find((function(){d=!1})),r({target:"Array",proto:!0,forced:d},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),c(l)},266:function(t,n,e){var content=e(273);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(41).default)("66207756",content,!0,{sourceMap:!1})},268:function(t,n,e){var content=e(283);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(41).default)("044ca68e",content,!0,{sourceMap:!1})},272:function(t,n,e){"use strict";e(266)},273:function(t,n,e){var r=e(40)(!1);r.push([t.i,'.input-list-with-labels-container{padding:0}.input-list-with-labels__h3{font-size:1.2em;font-weight:600;text-align:left;padding:5px 0;margin:5px 0}.input-list-with-labels__row{display:flex;flex-direction:row}.input-list-with-labels__input,.input-list-with-labels__label{display:inline-block;padding:5px 8px;margin:4px auto;font-family:"Open Sans",sans-serif;font-size:.8em;text-align:left;box-sizing:border-box;height:2em}.input-list-with-labels__label{width:50%}.input-list-with-labels__input{border:1px solid #ccc;border-radius:8px;width:50%}.input-list-with-labels__input:focus{outline:none;border:none;box-shadow:var(--orangey-red-color) 0 0 2px 2px}',""]),t.exports=r},274:function(t,n,e){"use strict";e.r(n);e(37),e(38);var r={name:"InputListWithLabels",props:["heading","input_object","display_labels_object","indices"],computed:{keys_list:function(){return this.display_labels_object?Object.keys(this.display_labels_object):[]}},methods:{handleInput:function(t){this.$emit("handleInput",t.target.name,t.target.value,this.indices)}}},o=(e(272),e(32)),component=Object(o.a)(r,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.input_object?e("div",{staticClass:"input-list-with-labels-container"},[t.heading?e("h3",{staticClass:"input-list-with-labels__h3"},[t._v(t._s(t.heading))]):t._e(),t._v(" "),e("form",t._l(t.keys_list,(function(n){return e("div",{key:n,staticClass:"input-list-with-labels__row"},[e("label",{staticClass:"input-list-with-labels__label"},[t._v(t._s(t.display_labels_object[n]))]),t._v(" "),e("input",{staticClass:"input-list-with-labels__input",attrs:{type:"text",name:n},domProps:{value:t.input_object[n]},on:{input:function(n){return t.handleInput(n)}}})])})),0)]):t._e()}),[],!1,null,null,null);n.default=component.exports},282:function(t,n,e){"use strict";e(268)},283:function(t,n,e){var r=e(40)(!1);r.push([t.i,'.input-boolean-list__h3{font-size:1.2em;font-weight:600;text-align:left;padding:5px 0;margin:5px 0}.input-boolean-list__row{width:80%;margin-left:20%;text-align:left}.input-boolean-list__input,.input-boolean-list__label{display:inline-block;padding:5px 8px;margin:2px auto;font-family:"Open Sans",sans-serif;font-size:.8em;box-sizing:border-box;height:2em;text-align:left}.input-boolean-list__input{border:1px solid #ccc;border-radius:8px;height:1em;width:30px}.input-boolean-list__label{width:60%}.input-boolean-list__input:focus{outline:none;border:none;box-shadow:var(--orangey-red-color) 0 0 2px 2px}',""]),t.exports=r},290:function(t,n,e){"use strict";e.r(n);e(37),e(38);var r={name:"InputBooleanList",props:["heading","input_object","display_labels_object","indices"],computed:{keys_list:function(){return this.display_labels_object?Object.keys(this.display_labels_object):void 0}},methods:{handleCheckboxChange:function(t){this.$emit("handleCheckboxChange",t.target.name,t.target.checked,this.indices)}}},o=(e(282),e(32)),component=Object(o.a)(r,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.input_object?e("div",{staticClass:"input-boolean-list-container"},[t.heading?e("h3",{staticClass:"input-boolean-list__h3"},[t._v(t._s(t.heading))]):t._e(),t._v(" "),e("form",t._l(t.keys_list,(function(n){return e("div",{key:n,staticClass:"input-boolean-list__row"},[e("input",{staticClass:"input-boolean-list__input",attrs:{type:"checkbox",id:n,name:n},domProps:{value:n,checked:t.input_object[n]},on:{change:function(n){return t.handleCheckboxChange(n)}}}),t._v(" "),e("label",{staticClass:"input-boolean-list__label"},[t._v(t._s(t.display_labels_object[n]))])])})),0)]):t._e()}),[],!1,null,null,null);n.default=component.exports},356:function(t,n,e){var content=e(376);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(41).default)("221480d9",content,!0,{sourceMap:!1})},375:function(t,n,e){"use strict";e(356)},376:function(t,n,e){var r=e(40)(!1);r.push([t.i,".admin-edit-container{background-color:#f8f8f8}.admin-contracts-container{padding:10px 0}.admin-contracts__ul{list-style-type:none;margin:0;padding:0}.admin-contracts__li{width:90%;margin:0 auto 30px;padding:10px;background-color:#d8d8d8;border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.admin-contracts-main-info-and-utilities-container{display:flex;flex-direction:row}.admin-contracts-main-contracts-info-container,.admin-contracts-utilities-container{width:45%;margin:30px auto;padding:20px;background-color:#bbb;border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.admin-contracts-room-prices__ul{list-style-type:none;margin:0;padding:0;display:flex;flex-flow:row wrap}.admin-contracts-room-prices__li{width:45%;margin:30px auto;padding:20px;background-color:#bbb;border-top-left-radius:10px;border-top-right-radius:10px;border-bottom-left-radius:10px;border-bottom-right-radius:10px}.admin-contracts__h2--top{font-size:1.4em}.admin-contracts__h2--top,.admin-contracts__h3{font-weight:700;margin:0 auto;text-align:center}.admin-contracts__h3{font-size:1.2em}.no-contracts-message{width:70%;margin:0 auto;font-size:1.2em;font-weight:600;color:#444}",""]),t.exports=r},392:function(t,n,e){"use strict";e.r(n);e(265),e(33),e(37),e(53),e(178),e(64);var r=e(274),o=e(290),c=e(255),l={name:"AdminContracts",props:["propertiesData","property_id"],components:{InputListWithLabels:r.default,InputBooleanList:o.default},data:function(){return{properties:void 0,main_contract_display_keys:{title:"Title",book_now_url:"Book now URL",start_date:"Start date",end_date:"End date",min_contract_days:"Minimum contract days"},utilities_display_keys:{broadband:"Broadband",contents_insurance:"Contents insurance",council_tax:"Council tax",electricity:"Electricity",gas:"Gas",phone:"Phone",tv_license:"TV licence",water:"Water"},room_prices_display_keys:{room_name:"Room name",price_per_person_per_week:"Price per person per week",deposit_per_person:"Deposit per person",fee_per_person:"Fee per person"}}},mounted:function(){this.properties=this.propertiesData?this.propertiesData:void 0},updated:function(){!this.properties&&this.propertiesData&&(this.properties=this.propertiesData?this.propertiesData:void 0)},computed:{property:function(){var t=this;try{return this.properties.find((function(n){return n.property_id===t.property_id}))}catch(t){return}},contracts:function(){try{return this.property.contracts}catch(t){return}},num_contracts:function(){try{return this.contracts.length}catch(t){return}}},methods:{create_main_contract_info_object:function(t){try{var n={},e=this.property.contracts[t];return Object.keys(this.main_contract_display_keys).forEach((function(t){return n[t]=e[t]})),n}catch(t){return}},create_utilities_info_object:function(t){return this.property.contracts[t]?this.property.contracts[t].utilities:void 0},create_room_prices_info_object:function(t,n){return this.property.contracts[t].prices[n]},handleCheckboxChange__Utilities:function(t,n,e){var r=e.split("=")[1],o="contracts.".concat(r,".utilities.").concat(t);Object(c.j)(this.property_id,o,n)},handleInputChange__MainInfo:function(t,n,e){var r=e.split("=")[1],o="contracts.".concat(r,".").concat(t);Object(c.j)(this.property_id,o,n)},handleInputChange__RoomPrices:function(t,n,e){var r=e.split(" | "),o=r[0].split("=")[1],l=r[1].split("=")[1],d="contracts.".concat(o,".prices.").concat(l,".").concat(t);Object(c.j)(this.property_id,d,n)}}},d=(e(375),e(32)),component=Object(d.a)(l,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return t.property?e("div",{staticClass:"admin-contracts-container"},[e("div",{staticClass:"admin-contracts-container"},[e("ul",{staticClass:"admin-contracts__ul"},t._l(t.num_contracts,(function(n){return e("li",{key:n-1,staticClass:"admin-contracts__li"},[e("h2",{staticClass:"admin-contracts__h2--top"},[t._v("Contract "+t._s(n))]),t._v(" "),e("div",{staticClass:"admin-contracts-main-info-and-utilities-container"},[e("div",{staticClass:"admin-contracts-main-contracts-info-container"},[e("InputListWithLabels",{attrs:{indices:"contract_idx="+(n-1),input_object:t.create_main_contract_info_object(n-1),display_labels_object:t.main_contract_display_keys},on:{handleInput:t.handleInputChange__MainInfo}})],1),t._v(" "),e("div",{staticClass:"admin-contracts-utilities-container"},[e("InputBooleanList",{attrs:{indices:"contract_idx="+(n-1),input_object:t.create_utilities_info_object(n-1),display_labels_object:t.utilities_display_keys},on:{handleCheckboxChange:t.handleCheckboxChange__Utilities}})],1)]),t._v(" "),e("h3",{staticClass:"admin-contracts__h3"},[t._v("Room prices")]),t._v(" "),e("ul",{staticClass:"admin-contracts-room-prices__ul"},t._l(t.property.contracts[n-1].prices.length,(function(r){return e("li",{key:r-1,staticClass:"admin-contracts-room-prices__li"},[e("div",{staticClass:"admin-contracts-room-prices-container"},[e("InputListWithLabels",{attrs:{indices:"contract_idx="+(n-1)+" | room_idx="+(r-1),input_object:t.create_room_prices_info_object(n-1,r-1),display_labels_object:t.room_prices_display_keys},on:{handleInput:t.handleInputChange__RoomPrices}})],1)])})),0)])})),0),t._v(" "),0===t.num_contracts?e("div",{staticClass:"no-contracts-message"},[t._v("There are no contracts for this property at the present time.")]):t._e()])]):t._e()}),[],!1,null,null,null);n.default=component.exports}}]);